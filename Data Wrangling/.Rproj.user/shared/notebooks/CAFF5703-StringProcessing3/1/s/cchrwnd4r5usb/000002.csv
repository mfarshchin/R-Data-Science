"0","# read raw murders data line by line"
"0","filename <- system.file(""extdata/murders.csv"", package = ""dslabs"")"
"0","lines <- readLines(filename)"
"0","lines %>% head()"
"1","[1]"
"1"," ""state,abb,region,population,total"""
"1"," ""Alabama,AL,South,4779736,135""     "
"1","
"
"1","[3]"
"1"," ""Alaska,AK,West,710231,19""         "
"1"," ""Arizona,AZ,West,6392017,232""      "
"1","
"
"1","[5]"
"1"," ""Arkansas,AR,South,2915918,93""     "
"1"," ""California,CA,West,37253956,1257"" "
"1","
"
"0","# split at commas with str_split function, remove row of column names"
"0","x <- str_split(lines, "","") "
"0","x %>% head()"
"1","[[1]]
"
"1","[1]"
"1"," ""state""     "
"1"," ""abb""       "
"1"," ""region""    "
"1"," ""population"""
"1"," ""total""     "
"1","
"
"1","
"
"1","[[2]]
"
"1","[1]"
"1"," ""Alabama"""
"1"," ""AL""     "
"1"," ""South""  "
"1"," ""4779736"""
"1"," ""135""    "
"1","
"
"1","
"
"1","[[3]]
"
"1","[1]"
"1"," ""Alaska"""
"1"," ""AK""    "
"1"," ""West""  "
"1"," ""710231"""
"1"," ""19""    "
"1","
"
"1","
"
"1","[[4]]
"
"1","[1]"
"1"," ""Arizona"""
"1"," ""AZ""     "
"1"," ""West""   "
"1"," ""6392017"""
"1"," ""232""    "
"1","
"
"1","
"
"1","[[5]]
"
"1","[1]"
"1"," ""Arkansas"""
"1"," ""AR""      "
"1"," ""South""   "
"1"," ""2915918"" "
"1"," ""93""      "
"1","
"
"1","
"
"1","[[6]]
"
"1","[1]"
"1"," ""California"""
"1"," ""CA""        "
"1"," ""West""      "
"1"," ""37253956""  "
"1"," ""1257""      "
"1","
"
"1","
"
"0","col_names <- x[[1]]"
"0","x <- x[-1]"
"0","# extract first element of each list entry"
"0","library(purrr)"
"0","map(x, function(y) y[1]) %>% head()"
"1","[[1]]
"
"1","[1]"
"1"," ""Alabama"""
"1","
"
"1","
"
"1","[[2]]
"
"1","[1]"
"1"," ""Alaska"""
"1","
"
"1","
"
"1","[[3]]
"
"1","[1]"
"1"," ""Arizona"""
"1","
"
"1","
"
"1","[[4]]
"
"1","[1]"
"1"," ""Arkansas"""
"1","
"
"1","
"
"1","[[5]]
"
"1","[1]"
"1"," ""California"""
"1","
"
"1","
"
"1","[[6]]
"
"1","[1]"
"1"," ""Colorado"""
"1","
"
"1","
"
"0","map(x, 1) %>% head()"
"1","[[1]]
"
"1","[1]"
"1"," ""Alabama"""
"1","
"
"1","
"
"1","[[2]]
"
"1","[1]"
"1"," ""Alaska"""
"1","
"
"1","
"
"1","[[3]]
"
"1","[1]"
"1"," ""Arizona"""
"1","
"
"1","
"
"1","[[4]]
"
"1","[1]"
"1"," ""Arkansas"""
"1","
"
"1","
"
"1","[[5]]
"
"1","[1]"
"1"," ""California"""
"1","
"
"1","
"
"1","[[6]]
"
"1","[1]"
"1"," ""Colorado"""
"1","
"
"1","
"
